<!DOCTYPE html>
<html lang="en">
<head>
	<title>Aviya Magnus - Education Template</title>
	<meta charset="UTF-8">
	<meta name="description" content="Aviya Magnus Education Template">
	<meta name="keywords" content="Aviya Magnus, education, creative, html">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Favicon -->   
	<link href="img/favicon.ico" rel="shortcut icon"/>

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Raleway:400,400i,500,500i,600,600i,700,700i,800,800i" rel="stylesheet">

	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<link rel="stylesheet" href="css/font-awesome.min.css"/>
	<link rel="stylesheet" href="css/owl.carousel.css"/>
	<link rel="stylesheet" href="css/style.css"/>


	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<!-- Page Preloder -->
	<div id="preloder">
		<div class="loader"></div>
	</div>

	<!-- Header section -->
	<header class="header-section">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-3">
					<div class="site-logo">
						<img src="img/logo.png" alt="">
					</div>
					<div class="nav-switch">
						<i class="fa fa-bars"></i>
					</div>
				</div>
				<div class="col-lg-9 col-md-9">
					<a href="login-options.html"" class="site-btn header-btn">Back</a>
					<nav class="main-menu">
						<ul>
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</header>
	<!-- Header section end -->


	<!-- Page info -->
	<div class="page-info-section set-bg" data-setbg="img/page-bg/12.jpg">
		<div class="container">
			<div class="site-breadcrumb">
				<a href="#">Login</a>
				<span>Tutor Login</span>
			</div>
		</div>
	</div>
	<!-- Page info end -->
  
  <!-- Login Section -->
  <section class="spad">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6 col-md-8">
          <div class="section-title">
            <h2>Tutor Login</h2>
          </div>
          <form action="tutor-dashboard.html" method="POST" class="mb-5">
            <div class="mb-3">
              <label for="tutor-email" class="form-label">Email</label>
              <input type="email" id="tutor-email" name="email" class="form-control" required>
            </div>
            <div class="mb-3">
              <label for="tutor-password" class="form-label">Password</label>
              <input type="password" id="tutor-password" name="password" class="form-control" required>
            </div>
            <button type="button" class="site-btn" onclick="loginAsTutor()">Login as Tutor</button>
          </form>

          <div class="text-center">
            <a href="login-options.html">Back to Login Options</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Login Section end -->

  <!-- Footer (same as index) -->
  <footer class="footer-section spad pb-0">
    <div class="footer-top">
      <div class="footer-warp">
        <div class="row">
          <div class="widget-item">
            <h4>Contact Info</h4>
            <ul class="contact-list">
              <li>1/101, Kavarai Street, Latteri<br>Vellore 632202</li>
              <li>+918248802124</li>
              <li>contactus@aviyamagnus.com / monikaanandan@aviyamagnus.com</li>
            </ul>
          </div>
          <div class="widget-item">
            <h4>Business Administration</h4>
            <ul>
              <li><a href="">Human Resoure</a></li>
              <li><a href="">Marketing & Sales</a></li>
              <li><a href="">Finance & Accounting</a></li>
              <li><a href="">Banking Finane</a></li>
              <li><a href="">Supply Chain Management</a></li>
            </ul>
          </div>
          <div class="widget-item">
            <h4>Business & Management</h4>
            <ul>
              <li><a href="">Operations Management</a></li>
              <li><a href="">Entrepreneurship & Startups</a></li>
              <li><a href="">Business Analytics</a></li>
              <li><a href="">Leadership & Team Management</a></li>
              <li><a href="">Event Management</a></li>
            </ul>
          </div>
          <div class="widget-item">
            <h4>Education & Law</h4>
            <ul>
              <li><a href="">Corporate Law & Intellectual Property Rights</a></li>
              <li><a href="">Labor Law & Industrial Relations</a></li>
              <li><a href="">Contract Management</a></li>
              <li><a href="">Education & Teaching</a></li>
              <li><a href="">Communication & Soft skills</a></li>
            </ul>
          </div>
          <div class="widget-item">
            <h4>Newsletter</h4>
            <form class="footer-newslatter">
              <input type="email" placeholder="E-mail">
              <button class="site-btn">Subscribe</button>
              <p>*We don’t spam</p>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="footer-warp">
        <ul class="footer-menu">
          <li><a href="#">Terms & Conditions</a></li>
          <li><a href="#">Register</a></li>
          <li><a href="#">Privacy</a></li>
        </ul>
        <div class="copyright">
          Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://aviyamagnus.com" target="_blank">aviyamagnus</a>
        </div>
      </div>
    </div>
  </footer>
  <!-- Footer end -->

  <!-- Scripts -->
  <script src="js/jquery-3.2.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/mixitup.min.js"></script>
  <script src="js/circle-progress.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/main.js"></script>
   <script>
	function loginAsTutor() {
    // Get values from input fields
    const email = document.getElementById('tutor-email').value.trim();
    const password = document.getElementById('tutor-password').value.trim();
    const role = 'tutor'; // fixed for tutor login

    // Basic validation
    if (!email || !password) {
        alert("Please enter both email and password.");
        return;
    }

    // Send POST request to backend login endpoint
    fetch("https://aviyamagnus-com.onrender.com/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password, role })
    })
    .then(async response => {
        const data = await response.json();

        if (response.ok && data.status === "success") {
            // Login successful
            localStorage.setItem('userRole', data.user.role);
            localStorage.setItem('userName', data.user.first_name);
            window.location.href = "tutor-dashboard.html";
        } else {
            // Invalid email/password or not registered
            alert(data.error || "Invalid email, password, or role.");
        }
    })
    .catch(err => {
        console.error("Network error:", err);
        alert("⚠️ Network error. Please try again later.");
    });
}
</script>
</body>
</html>
