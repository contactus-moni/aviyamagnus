<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="description" content="Aviya Magnus Education Template" />
<meta name="keywords" content="Aviya Magnus, education, creative, html" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Aviya Magnus - Education Template</title>
<style>
  body {
    font-family: 'Raleway', sans-serif;
    background: url('img/bg.jpg') no-repeat center center fixed;
    background-size: cover;
    margin: 0;
    padding: 0;
  }
  .signup-form {
    background: rgba(255, 255, 255, 0.95);
    padding: 30px;
    border-radius: 10px;
    max-width: 600px;
    margin: 30px auto;
    box-sizing: border-box;
  }
  .signup-form select,
  .signup-form input {
    width: 100%;
    padding: 12px 15px;
    margin-top: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 16px;
    box-sizing: border-box;
  }
  .row {
    display: flex;
    gap: 15px;
    margin-top: 10px;
  }
  .row > div {
    flex: 1;
  }
  .captcha-box {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 20px;
  }
  .captcha {
    background: #f0f0f0;
    padding: 10px 15px;
    font-weight: bold;
    font-size: 18px;
    border-radius: 5px;
    letter-spacing: 2px;
    user-select: none;
    min-width: 120px;
    text-align: center;
  }
  .error-message {
    color: red;
    font-size: 14px;
    margin-top: 5px;
    display: none;
  }
  .register-btn {
    background: #d62849;
    color: white;
    font-weight: bold;
    font-size: 18px;
    padding: 15px 20px;
    border: none;
    border-radius: 5px;
    margin-top: 25px;
    cursor: pointer;
    width: 100%;
  }
  /* Mobile code + number side by side */
  .mobile-row {
    display: flex;
    gap: 10px;
    margin-top: 10px;
  }
  .mobile-row select {
    flex: 0 0 30%;
  }
  .mobile-row input {
    flex: 1;
  }
</style>
</head>
<body>
  <section class="hero-section set-bg" data-setbg="img/bg.jpg">
<div class="container">
      <h2 id="signup-title">Join Aviya Magnus</h2>
      <p>Start your learning journey â€” Create your free account today.</p>
  <form id="signupForm" class="signup-form" novalidate>
    <select name="role" id="role" required>
      <option value="">Select Role</option>
      <option value="student">Student</option>
      <option value="parent">Parent</option>
      <option value="tutor">Tutor</option>
    </select>
    <div class="row">
      <div>
        <input type="text" id="firstName" name="firstName" placeholder="First Name" required />
        <div class="error-message" id="firstNameError">Please enter your first name.</div>
      </div>
      <div>
        <input type="text" id="lastName" name="lastName" placeholder="Last Name" required />
        <div class="error-message" id="lastNameError">Please enter your last name.</div>
      </div>
    </div>
    <div class="row">
      <div>
        <input type="password" id="password" name="password" placeholder="Password" required />
        <div class="error-message" id="passwordError">Please enter a password.</div>
      </div>
      <div>
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Re-enter Password" required />
        <div class="error-message" id="confirmPasswordError">Passwords do not match.</div>
      </div>
    </div>
    <input type="email" id="email" name="email" placeholder="Enter your email" required />
    <div class="error-message" id="emailError">Please enter a valid email.</div>

    <div class="mobile-row">
      <select id="countryCode" name="countryCode" required>
        <option value="">Code</option>
        <option value="+91">ðŸ‡®ðŸ‡³ +91</option>
        <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
        <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
        <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
        <option value="+971">ðŸ‡¦ðŸ‡ª +971</option>
      </select>
      <input type="tel" id="mobile" name="mobile" placeholder="Mobile Number" pattern="[0-9]{10,15}" required />
    </div>
    <div class="error-message" id="mobileError">Please enter a valid mobile number (10-15 digits).</div>

    <div class="captcha-box">
      <div class="captcha" id="captchaText"></div>
      <input type="text" id="captchaInput" placeholder="Enter Captcha" required />
    </div>
    <div class="error-message" id="captchaError">Captcha does not match. Please try again.</div>

    <button type="submit" class="register-btn">Register</button>
  </form>

  <script>
    function generateCaptcha() {
      const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
      let captcha = '';
      for (let i = 0; i < 5; i++) {
        captcha += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      document.getElementById('captchaText').textContent = captcha;
    }
    generateCaptcha();

    const form = document.getElementById('signupForm');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      // Clear all error messages
      document.querySelectorAll('.error-message').forEach(el => (el.style.display = 'none'));

      let valid = true;

      // Check role
      if (!form.role.value) {
        alert('Please select your role.');
        valid = false;
      }

      // Check first name
      if (!form.firstName.value.trim()) {
        document.getElementById('firstNameError').style.display = 'block';
        valid = false;
      }

      // Check last name
      if (!form.lastName.value.trim()) {
        document.getElementById('lastNameError').style.display = 'block';
        valid = false;
      }

      // Check password presence
      if (!form.password.value) {
        document.getElementById('passwordError').textContent = 'Please enter a password.';
        document.getElementById('passwordError').style.display = 'block';
        valid = false;
      }

      // Check confirm password presence and matching
      if (!form.confirmPassword.value) {
        document.getElementById('confirmPasswordError').textContent = 'Please confirm your password.';
        document.getElementById('confirmPasswordError').style.display = 'block';
        valid = false;
      } else if (form.password.value !== form.confirmPassword.value) {
        document.getElementById('confirmPasswordError').textContent = 'Passwords do not match.';
        document.getElementById('confirmPasswordError').style.display = 'block';
        valid = false;
      }

      // Email validation using simple regex
      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailPattern.test(form.email.value)) {
        document.getElementById('emailError').style.display = 'block';
        valid = false;
      }

      // Mobile number pattern validation
      const mobilePattern = /^[0-9]{10,15}$/;
      if (!form.countryCode.value) {
        alert('Please select your country code.');
        valid = false;
      }
      if (!mobilePattern.test(form.mobile.value)) {
        document.getElementById('mobileError').style.display = 'block';
        valid = false;
      }

      // Captcha check
      const captchaText = document.getElementById('captchaText').textContent.trim().toUpperCase();
      const captchaInput = form.captchaInput.value.trim().toUpperCase();
      if (captchaText !== captchaInput) {
        document.getElementById('captchaError').style.display = 'block';
        generateCaptcha(); // regenerate captcha on failure
        valid = false;
      }

      if (!valid) return;

      // Prepare form data to send
      const formData = {
        role: form.role.value,
        firstName: form.firstName.value.trim(),
        lastName: form.lastName.value.trim(),
        email: form.email.value.trim(),
        countryCode: form.countryCode.value,
        mobile: form.mobile.value.trim(),
        password: form.password.value,
      };

      // Submit form data via fetch
      fetch('https://aviyamagnus.rf.gd/register.php', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData),
      })
        .then((res) => res.json())
        .then((data) => {
          if (data.message === 'User registered successfully!') {
            window.location.href = 'success.html';
          } else {
            alert('Error: ' + data.message);
          }
        })
        .catch((err) => alert('Server error: ' + err.message));
    });
  </script>
</body>
</html>
   <!-- footer section -->
	<footer class="footer-section spad pb-0">
		<div class="footer-top">
			<div class="footer-warp">
				<div class="row">
					<div class="widget-item">
						<h4>Contact Info</h4>
						<ul class="contact-list">
							<li>1/101, Kavarai Street, Latteri<br>Vellore 632202</li>
							<li>+918248802124</li>
							<li>contactus@aviyamagnus.com / monikaanandan@aviyamagnus.com</li>
						</ul>
					</div>
					<div class="widget-item">
						<h4>Business Administration</h4>
						<ul>
							<li><a href="">Human Resoure</a></li>
							<li><a href="">Marketing & Sales</a></li>
							<li><a href="">Finance & Accounting</a></li>
							<li><a href="">Banking Finane</a></li>
							<li><a href="">Supply Chain Management</a></li>
						</ul>
					</div>
					<div class="widget-item">
						<h4>Business & Management</h4>
						<ul>
							<li><a href="">Operations Management</a></li>
							<li><a href="">Entrepreneurship & Startups</a></li>
							<li><a href="">Business Analytics</a></li>
							<li><a href="">Leadership & Team Management</a></li>
							<li><a href="">Event Management</a></li>
						</ul>
					</div>
					<div class="widget-item">
						<h4>Education & Law</h4>
						<ul>
							<li><a href="">Corporate Law & Intellectual Property Rights</a></li>
							<li><a href="">Labor Law & Industrial Relations</a></li>
							<li><a href="">Contract Management</a></li>
							<li><a href="">Education & Teaching</a></li>
							<li><a href="">Communication & Soft skills</a></li>
						</ul>
					</div>
					<div class="widget-item">
						<h4>Newsletter</h4>
						<form class="footer-newslatter">
							<input type="email" placeholder="E-mail">
							<button class="site-btn">Subscribe</button>
							<p>*We donâ€™t spam</p>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="footer-bottom">
			<div class="footer-warp">
				<ul class="footer-menu">
					<li><a href="#">Terms & Conditions</a></li>
					<li><a href="#">Register</a></li>
					<li><a href="#">Privacy</a></li>
				</ul>
				<div class="copyright"><!-- Link back to aviyamagnus can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://aviyamagnus.com" target="_blank">aviyamagnus</a>
<!-- Link back to aviyamagnus can't be removed. Template is licensed under CC BY 3.0. --></div>
			</div>
		</div>
	</footer> 
	<!-- footer section end -->


