<form id="loginForm">
  <h3>Login</h3>
  <input type="email" id="loginEmail" placeholder="Email" required><br>
  <input type="password" id="loginPassword" placeholder="Password" required><br>
  <button type="submit">Login</button>
</form>

<div id="message"></div>
const loginForm = document.getElementById('loginForm');
loginForm.addEventListener('submit', async (event) => {
  event.preventDefault(); // Prevent the default form submission

  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;

  const response = await fetch('https://yourwebsite.epizy.com/login.php', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded',
    },
    body: `email=${email}&password=${password}`,
  });

  const result = await response.json();

  if (result.message === 'Login successful!') {
    // Store user role and token in localStorage (or sessionStorage)
    localStorage.setItem('userRole', result.role); // Save role
    localStorage.setItem('authToken', result.token); // Save token if you use JWT

    messageDiv.innerHTML = `<p>Welcome, ${result.role}!</p>`;
  } else {
    messageDiv.innerHTML = `<p>Error: ${result.message}</p>`;
  }
});
